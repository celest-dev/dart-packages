name: Glib
description: |
  Bindings for glib on Linux.

  Regenerate bindings with `dart run ffigen --config=ffigen.glib.yaml`.
language: c
output: lib/src/native/linux/glib.ffi.dart
headers:
  entry-points:
    - /usr/include/glib-2.0/glib.h
    - /usr/include/glib-2.0/glib-object.h
    - /usr/include/glib-2.0/gio/gio.h
compiler-opts:
  # Suppress nullability warnings on macOS
  - "-Wno-nullability-completeness"
  # Ignore warnings about availability macro
  - "-Wno-availability"
preamble: |
  // ignore_for_file: type=lint
  // ignore_for_file: return_of_invalid_type
  // ignore_for_file: unnecessary_non_null_assertion
comments:
  style: any
  length: full

exclude-all-by-default: true
typedefs:
  include:
    - gboolean
    - gint
    - gpointer
    - gchar
    - GAsyncReadyCallback
functions:
  include:
    - g_application_get_default
    - g_app_info_launch_default_for_uri_async
    - g_app_info_launch_default_for_uri_finish
    - g_error_free
structs:
  include:
    - _GError
    - _GList
    - _GHashTable
    - _GCancellable
    - _GObject
  rename:
    "_GError": GError
    "_GList": GList
    "_GHashTable": GHashTable
    "_GCancellable": GCancellable
    "_GObject": GObject
    "_GAsyncResult": GAsyncResult
type-map:
  typedefs:
    gchar:
      lib: pkg_ffi
      c-type: Utf8
      dart-type: Char
